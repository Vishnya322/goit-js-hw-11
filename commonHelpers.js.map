{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["    import iziToast from \"izitoast\";\n    import \"izitoast/dist/css/iziToast.min.css\";\n    import SimpleLightbox from \"simplelightbox\";\n    import \"simplelightbox/dist/simple-lightbox.min.css\";\n\n    const gallery = document.getElementById('gallery'); \n    const form = document.getElementById('form'); \n    const input = document.getElementById('input');\n\n    const paramsInfo = {\n    key: \"41508094-b690cca5e0d97ff8185874dce\",\n    q: \"kat\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n    };\n\n    form.addEventListener('submit', event => {\n        event.preventDefault();\n        \n        const searchTerm = input.value.trim();\n        paramsInfo.q = searchTerm;\n\n        input.value = '';\n        gallery.innerHTML = ''; \n        \n        const searchParams = new URLSearchParams(paramsInfo);\n        searchImg(searchParams);\n      });\n    function searchImg(searchParams) {\n    const url = new URL(\"https://pixabay.com/api/\");\n    url.search = searchParams.toString();\n    showLoader();\n    fetch(url)\n        .then(response => {\n        if (!response.ok) {\n        throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n        }\n        return response.json();\n        })\n        .then(({ hits }) => {\n        const renderImg = hits.reduce((html, hit) => {\n            return (\n            html +\n            `<li class=\"gallery-item\">\n                <a href=${hit.largeImageURL}>\n                <img src=${hit.webformatURL} class=\"foto\" alt=${hit.tags}/>\n                </a>\n                <div class=\"benefits\">\n                <div class=\"benefit-text\">\n                <span class=\"text-value\">Likes</span><p class=\"number\">${hit.likes}</p></div>\n                <div class=\"benefit-text\">\n                <span class=\"text-value\">Views</span><p class=\"number\">${hit.views}</p></div>\n                <div class=\"benefit-text\">\n                <span class=\"text-value\">Comments</span><p class=\"number\">${hit.comments}</p></div>\n                <div class=\"benefit-text\">\n                <span class=\"text-value\">Downloads</span><p class=\"number\">${hit.downloads}</p></div>\n                </div>\n            </li>`\n            );\n        }, \"\");\n        gallery.innerHTML = renderImg;\n        \n        const lightbox = new SimpleLightbox('.gallery a', {\n            nav: true,\n            captionDelay: 250,\n            captionData: 'alt',\n            close: true,\n            enableKeyboard: true,\n            docClose: true,\n        });\n\n        lightbox.refresh();\n        hideLoader();\n\n        })\n        .catch(error => {\n        iziToast.error({\n            position: 'bottomCenter',\n            message: error.message,\n        });\n\n        hideLoader();\n\n        });\n    }\n\n    function showLoader() {\n        const loader = document.querySelector('.loader');\n        if (loader) {\n            loader.style.display = 'block';\n        }\n    }\n    \n    function hideLoader() {\n        const loader = document.querySelector('.loader');\n        if (loader) {\n            loader.style.display = 'none';\n        }\n    }"],"names":["gallery","form","input","paramsInfo","event","searchTerm","searchParams","searchImg","url","showLoader","response","hits","renderImg","html","hit","SimpleLightbox","hideLoader","error","iziToast","loader"],"mappings":"6vBAKI,MAAMA,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAO,SAAS,eAAe,MAAM,EACrCC,EAAQ,SAAS,eAAe,OAAO,EAEvCC,EAAa,CACnB,IAAK,qCACL,EAAG,MACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEIF,EAAK,iBAAiB,SAAUG,GAAS,CACrCA,EAAM,eAAc,EAEpB,MAAMC,EAAaH,EAAM,MAAM,KAAI,EACnCC,EAAW,EAAIE,EAEfH,EAAM,MAAQ,GACdF,EAAQ,UAAY,GAEpB,MAAMM,EAAe,IAAI,gBAAgBH,CAAU,EACnDI,EAAUD,CAAY,CAC9B,CAAO,EACH,SAASC,EAAUD,EAAc,CACjC,MAAME,EAAM,IAAI,IAAI,0BAA0B,EAC9CA,EAAI,OAASF,EAAa,WAC1BG,IACA,MAAMD,CAAG,EACJ,KAAKE,GAAY,CAClB,GAAI,CAACA,EAAS,GACd,MAAM,IAAI,MAAM,0EAA0E,EAE1F,OAAOA,EAAS,MACxB,CAAS,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CACpB,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAEjCD,EACA;AAAA,0BACcC,EAAI;AAAA,2BACHA,EAAI,iCAAiCA,EAAI;AAAA;AAAA;AAAA;AAAA,yEAIKA,EAAI;AAAA;AAAA,yEAEJA,EAAI;AAAA;AAAA,4EAEDA,EAAI;AAAA;AAAA,6EAEHA,EAAI;AAAA;AAAA,mBAItE,EAAE,EACLd,EAAQ,UAAYY,EAEH,IAAIG,EAAe,aAAc,CAC9C,IAAK,GACL,aAAc,IACd,YAAa,MACb,MAAO,GACP,eAAgB,GAChB,SAAU,EACtB,CAAS,EAEQ,QAAO,EAChBC,GAER,CAAS,EACA,MAAMC,GAAS,CAChBC,EAAS,MAAM,CACX,SAAU,eACV,QAASD,EAAM,OAC3B,CAAS,EAEDD,GAER,CAAS,CACJ,CAED,SAASP,GAAa,CAClB,MAAMU,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACAA,EAAO,MAAM,QAAU,QAE9B,CAED,SAASH,GAAa,CAClB,MAAMG,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACAA,EAAO,MAAM,QAAU,OAEnC"}